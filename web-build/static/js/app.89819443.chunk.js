(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{203:function(e,t,r){"use strict";r(211);var n=r(15),c=r.n(n),o=r(0),a=r(330),i=r(332),s="#2D93AD",l="#aac0af",u=r(331),d=r(4),b=r(6),j=r(65),f=r(1),p=r.n(f),O=r(23),h=r(102),g=d.a.create({container:{height:150,flex:1,borderRadius:6,shadowColor:"black",shadowOpacity:.26,shadowOffset:{width:0,height:2},shadowRadius:6,elevation:3,justifyContent:"flex-end",alignItems:"flex-end",padding:0},title:{color:"white"}}),m=r(9);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){var t=e.item,r=e.onSelected;return Object(m.jsx)(b.a,{children:Object(m.jsx)(h.a,{onPress:function(){return r(t)},style:y(y({},g.container),{},{backgroundColor:t.color}),children:Object(m.jsx)(b.a,{style:{height:150,width:200,alignItems:"center",justifyContent:"center"},children:Object(m.jsx)(O.a,{style:g.title,children:t.title})})})})},v=[{id:1,title:"Harinas Puras",color:"#896978"},{id:2,title:"Harinas Integrales",color:"#839791"},{id:3,title:"Panes Saborizados",color:"#aac0af"},{id:4,title:"Otros Productos Panader\xeda",color:"#896978"}],P=d.a.create({btn:{marginLeft:20,backgroundColor:"gray",padding:10,color:"white",borderRadius:5},white:{color:"white"},container:{flex:1,alignItems:"center",justifyContent:"center",alignSelf:"stretch"},grid:{flex:1,alignItems:"stretch",flexDirection:"row"}}),C=function(e){var t=e.navigation,r=(e.route,function(e){t.navigate("Breads",{categoryId:e.id,name:e.title})});return Object(m.jsx)(b.a,{style:P.container,children:Object(m.jsx)(j.a,{data:v,numColumns:2,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return Object(m.jsx)(w,{item:t,onSelected:r},t.id)}})})},S=r(71),I=function(e){var t=e.item,r=e.onSelected;return console.log(t),Object(m.jsx)(j.b,{onPress:function(){return r(t)},children:Object(m.jsxs)(b.a,{style:k.breadItem,children:[Object(m.jsx)(b.a,{children:Object(m.jsx)(O.a,{style:k.tit,children:t.title})}),Object(m.jsxs)(b.a,{children:[Object(m.jsxs)(O.a,{style:k.details,children:[t.price," $"]}),Object(m.jsx)(O.a,{style:k.details,children:t.weight})]})]})})},k=d.a.create({breadItem:{padding:20,margin:10,borderRadius:3,backgroundColor:"#ccc"},tit:{fontSize:20},details:{fontSize:18}}),D=[{id:1,category:1,name:"Pan Baguette",description:"Cl\xe1sico pan franc\xe9s",weight:"350gr",price:1600},{id:2,category:1,name:"Pan Ciabatta Blanco",description:"Pan de alta hidrataci\xf3n, miga alveolada y corteza crujiente",weight:"800gr",price:3e3},{id:3,category:1,name:"Pan Hamburguesa",description:"Textura suave, decorado con semillas de s\xe9samo tostadas",weight:"120gr",price:500},{id:4,category:2,name:"Pan de molde Integral de Centeno",description:"P\xeddelo entero o tajado, con o sin semillas",weight:"900gr",price:3300}],B=r(19),z=r.n(B),T=r(60),E=r(188),R=r(67),W=Object(E.a)({apiKey:"AIzaSyDRmtzPF-mKzK-j5huVBXA4d-gBxp7KTQ8",authDomain:"coderhouse-react-f1d1b.firebaseapp.com",projectId:"coderhouse-react-f1d1b",storageBucket:"coderhouse-react-f1d1b.appspot.com"}),A=Object(R.d)(),H=Object(T.c)(W);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Object(T.e)(H,T.a);var L=Object(R.b)(A,"items"),M=Object(R.b)(A,"orders"),V=function(e){var t=e.navigation,r=e.route,n=(D.filter((function(e){return e.category===r.params.categoryId})),Object(o.useState)([])),a=c()(n,2),i=a[0],s=a[1];Object(o.useEffect)((function(){(function(){var e;return z.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.a.awrap(Object(R.c)(Object(R.e)(L)));case 2:return e=t.sent,t.abrupt("return",e.docs.map((function(e){return N(N({},e.data()),{},{id:e.id})})));case 4:case"end":return t.stop()}}),null,null,null,Promise)})().then((function(e){s(e)}))}),[]);return Object(m.jsxs)(b.a,{children:[Object(m.jsx)(S.a,{data:i,keyExtractor:function(e){return e.id},renderItem:function(e){var r=e.item;return Object(m.jsx)(I,{item:r,onSelected:function(){return function(e){t.navigate("Detail",{bread:e})}(r)}})}}),Object(m.jsx)(O.a,{children:r.params.name}),Object(m.jsx)(O.a,{children:r.params.categoryId})]})},J=r(17),U=r.n(J);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q=function(e){var t=e.children,r=Object(o.useState)({productsInCart:[]}),n=c()(r,2),a=n[0],i=n[1];return Object(m.jsx)(X.Provider,{value:{state:a,addItem:function(e,t){!a.productsInCart.find((function(t){return t.id===e.id}))&&i(G(G({},a),{},{productsInCart:[].concat(U()(a.productsInCart),[e])}))},removeItem:function(e){i(a.productsInCart.filter((function(t){return t.id!==e})))},clear:function(){return i(G(G({},a),{},{productsInCart:[]}))},isInCart:function(e){return!!a.productsInCart.find((function(t){return t.id===e}))}},children:t})},X=Object(o.createContext)(),$=function(e){e.navigation;var t=e.route.params.bread,r=Object(o.useContext)(X),n=(r.items,r.addItem);r.removeItem,r.clear;return Object(m.jsxs)(b.a,{style:q.container,children:[Object(m.jsx)(O.a,{style:q.title,children:t.name}),Object(m.jsx)(O.a,{children:t.description}),Object(m.jsx)(O.a,{children:t.price}),Object(m.jsx)(O.a,{children:t.weight}),Object(m.jsx)(j.b,{onPress:function(){return n(t)},children:Object(m.jsx)(O.a,{children:"Add to Cart"})})]})},q=d.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},title:{fontSize:20,marginBottom:10}}),Y=Object(u.a)(),Z=function(){return Object(m.jsxs)(Y.Navigator,{screenOptions:{headerStyle:{backgroundColor:s},headerTintColor:l,headerTitleStyle:{fontWeight:"bold"}},children:[Object(m.jsx)(Y.Screen,{name:"Home",component:C}),Object(m.jsx)(Y.Screen,{name:"Breads",component:V}),Object(m.jsx)(Y.Screen,{name:"Detail",component:$})]})},_=function(){var e=Object(o.useContext)(X),t=e.state,r=e.removeItem;return Object(m.jsxs)(b.a,{children:[Object(m.jsx)(O.a,{children:"Cart"}),Object(m.jsx)(S.a,{data:t.productsInCart,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return Object(m.jsxs)(b.a,{style:{marginBottom:20},children:[Object(m.jsx)(O.a,{children:t.title}),Object(m.jsx)(j.b,{onPress:function(){return r(t.id)},children:Object(m.jsx)(O.a,{children:"Borrar"})})]})}}),Object(m.jsx)(j.b,{onPress:function(){var e,r;return z.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z.a.awrap(z.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.awrap(H.currentUser);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise));case 2:e=n.sent,console.log(e),r={items:t.productsInCart,buyer:e.email,total:t.productsInCart.reduce((function(e,t){return e+t.price}),0),date:(new Date).toLocaleString()},console.log(r),c=r,console.log("obj: ",{orderProducts:c}),Object(R.a)(M,{orderProducts:c}).id;case 7:case"end":return n.stop()}var c}),null,null,null,Promise)},children:Object(m.jsx)(O.a,{children:"Make order"})})]})},ee=Object(u.a)(),te=function(){return Object(m.jsx)(ee.Navigator,{screenOptions:{headerStyle:{backgroundColor:s},headerTintColor:l,headerTitleStyle:{fontWeight:"bold"}},children:Object(m.jsx)(ee.Screen,{name:"Cart",component:_,options:{title:"Carrito"}})})},re=r(142),ne=Object(i.a)(),ce=function(){return Object(m.jsxs)(ne.Navigator,{screenOptions:{headerStyle:{backgroundColor:s},headerShown:!1,tabBarShowLabel:!0,tabBarStyles:oe.tabBar,headerTintColor:l,headerTitleStyle:{fontWeight:"bold"}},children:[Object(m.jsx)(ne.Screen,{name:"ShopTab",component:Z,options:{tabBarIcon:function(e){e.focused;return Object(m.jsx)(re.a,{name:"md-home",size:30,color:"#900"})},title:"Shop"}}),Object(m.jsx)(ne.Screen,{name:"CartTab",component:te,options:{tabBarIcon:function(e){e.focused;return Object(m.jsx)(re.a,{name:"md-cart",size:30,color:"#900"})},title:"cart"}})]})},oe=d.a.create({tabBar:{shadowColor:"#7f5df0",shadowOffset:{width:0,height:0},shadowOpacity:.25,shadowRadius:.25,elevation:5,position:"absolute",bottom:25,left:20,right:20,borderRadius:15,height:90},item:{flex:1,justifyContent:"center",alignItems:"center"}}),ae=r(198),ie=r(78),se=function(){var e=Object(o.useState)(!1),t=c()(e,2),r=(t[0],t[1],Object(o.useState)("")),n=c()(r,2),a=n[0],i=n[1],s=Object(o.useState)(""),l=c()(s,2),u=l[0],d=l[1];return Object(m.jsx)(ae.a,{behavior:"height",style:le.screen,children:Object(m.jsxs)(b.a,{style:le.container,children:[Object(m.jsx)(O.a,{style:le.title,children:"REGISTRO"}),Object(m.jsx)(O.a,{style:le.label,children:"Email"}),Object(m.jsx)(ie.a,{style:le.input,keyboardType:"email-address",autoCapitalize:"none",onChangeText:function(e){return i(e)}}),Object(m.jsx)(O.a,{style:le.label,children:"Clave"}),Object(m.jsx)(ie.a,{style:le.input,secureTextEntry:!0,autoCapitalize:"none",onChangeText:function(e){return d(e)}}),Object(m.jsxs)(b.a,{style:le.prompt,children:[Object(m.jsx)(O.a,{style:le.promptMessage,children:"\xbfTa tienes una cuenta?"}),Object(m.jsx)(h.a,{onPress:function(){return function(e,t){return z.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,z.a.awrap(Object(T.f)(H,e,t).then((function(e){var t;return z.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.user,r.abrupt("return",t.uid);case 2:case"end":return r.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e)})));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),null,null,null,Promise)}(a,u)},children:Object(m.jsx)(O.a,{style:le.promptButton,children:"Ingresar"})})]}),Object(m.jsx)(h.a,{onPress:function(){return function(e,t){return z.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:Object(T.b)(H,e,t).then((function(e){var t;return z.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.user,r.next=3,z.a.awrap(Object(R.f)(doc(A,"users",t.uid)));case 3:return r.abrupt("return",t.uid);case 4:case"end":return r.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e)}));case 1:case"end":return r.stop()}}),null,null,null,Promise)}(a,u)},children:Object(m.jsx)(O.a,{children:"Sign Up"})})]})})},le=d.a.create({screen:{flex:1,justifyContet:"center",alignItems:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:18,textAlign:"center"},container:{width:"80%",maxWidth:400,padding:12,margin:12,borderColor:"#ccc",borderWidth:1,borderRadius:10,backgroundColor:"white"},prompt:{alignItems:"center"},promptMessage:{fontSize:16,color:"#333"},promptButton:{fontSize:16,color:s},button:{backgroundColor:s,marginVertical:20},label:{},input:{borderColor:"#ccc",borderWidth:1,borderRadius:10,padding:12,marginVertical:12,fontSize:16,color:"#333",backgroundColor:"#eee",width:"100%"}}),ue=function(){var e=Object(o.useState)(!1),t=c()(e,2),r=t[0],n=t[1];return Object(o.useEffect)((function(){Object(T.d)(H,(function(e){if(e){console.log("user",e);e.uid;n(!0)}else console.log("No user logged"),n(!1)}))}),[]),Object(m.jsx)(a.a,{children:r?Object(m.jsx)(ce,{}):Object(m.jsx)(se,{})})};t.a=function(){return Object(m.jsx)(Q,{children:Object(m.jsx)(ue,{})})}},210:function(e,t,r){e.exports=r(322)}},[[210,1,2]]]);
//# sourceMappingURL=app.89819443.chunk.js.map